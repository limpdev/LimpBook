[![Go](/static/shared/logo/go-white.svg)](https://go.dev/)

[Skip to Main Content](#main-content)

![](/static/shared/icon/search_gm_grey_24dp.svg)

![](/static/shared/icon/search_gm_grey_24dp.svg)

- [Why Go ![submenu dropdown icon](/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](#)
  
  - [Case Studies](https://go.dev/solutions#case-studies)
    
    Common problems companies solve with Go
  - [Use Cases](https://go.dev/solutions#use-cases)
    
    Stories about how and why companies use Go
  - [Security](https://go.dev/security/)
    
    How Go can help keep you secure by default
- [Learn](https://go.dev/learn/)
- [Docs ![submenu dropdown icon](/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](#)
  
  - [Effective Go](https://go.dev/doc/effective_go)
    
    Tips for writing clear, performant, and idiomatic Go code
  - [Go User Manual](https://go.dev/doc/)
    
    A complete introduction to building software with Go
  - [Standard library](https://pkg.go.dev/std)
    
    Reference documentation for Go's standard library
  - [Release Notes](https://go.dev/doc/devel/release)
    
    Learn what's new in each Go release
- [Packages](/)
- [Community ![submenu dropdown icon](/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](#)
  
  - [Recorded Talks](https://go.dev/talks/)
    
    Videos from prior events
  - [Meetups *![](/static/shared/icon/launch_gm_grey_24dp.svg)*](https://www.meetup.com/pro/go)
    
    Meet other local Go developers
  - [Conferences *![](/static/shared/icon/launch_gm_grey_24dp.svg)*](https://github.com/golang/go/wiki/Conferences)
    
    Learn and network with Go developers from around the world
  - [Go blog](https://go.dev/blog)
    
    The Go project's official blog.
  - [Go project](https://go.dev/help)
    
    Get help and stay informed from Go
  - Get connected
    
    [![](/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts "Get connected with google-groups (Opens in new window)") [![](/static/shared/logo/social/github.svg)](https://github.com/golang "Get connected with github (Opens in new window)") [![](/static/shared/logo/social/twitter.svg)](https://twitter.com/golang "Get connected with twitter (Opens in new window)") [![](/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/ "Get connected with reddit (Opens in new window)") [![](/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/ "Get connected with slack (Opens in new window)") [![](/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go)

[![Go.](/static/shared/logo/go-blue.svg)](https://go.dev/)

- [Why Go *![](/static/shared/icon/navigate_next_gm_grey_24dp.svg)*](#)
  
  [*![](/static/shared/icon/navigate_before_gm_grey_24dp.svg)* Why Go](#)
  
  - [Case Studies](https://go.dev/solutions#case-studies)
  - [Use Cases](https://go.dev/solutions#use-cases)
  - [Security](https://go.dev/security/)
- [Learn](https://go.dev/learn/)
- [Docs *![](/static/shared/icon/navigate_next_gm_grey_24dp.svg)*](#)
  
  [*![](/static/shared/icon/navigate_before_gm_grey_24dp.svg)* Docs](#)
  
  - [Effective Go](https://go.dev/doc/effective_go)
  - [Go User Manual](https://go.dev/doc/)
  - [Standard library](https://pkg.go.dev/std)
  - [Release Notes](https://go.dev/doc/devel/release)
- [Packages](/)
- [Community *![](/static/shared/icon/navigate_next_gm_grey_24dp.svg)*](#)
  
  [*![](/static/shared/icon/navigate_before_gm_grey_24dp.svg)* Community](#)
  
  - [Recorded Talks](https://go.dev/talks/)
  - [Meetups *![](/static/shared/icon/launch_gm_grey_24dp.svg)*](https://www.meetup.com/pro/go)
  - [Conferences *![](/static/shared/icon/launch_gm_grey_24dp.svg)*](https://github.com/golang/go/wiki/Conferences)
  - [Go blog](https://go.dev/blog)
  - [Go project](https://go.dev/help)
  - Get connected
    
    [![](/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts) [![](/static/shared/logo/social/github.svg)](https://github.com/golang) [![](/static/shared/logo/social/twitter.svg)](https://twitter.com/golang) [![](/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/) [![](/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/) [![](/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go)

<!--THE END-->

1. [Discover Packages](/)
2. [gioui.org](/gioui.org)
3. [layout](/gioui.org@v0.8.0/layout) ![](/static/shared/icon/content_copy_gm_grey_24dp.svg)

[![Go](/static/shared/logo/go-blue.svg)](https://go.dev/)

# layout

package ![](/static/shared/icon/content_copy_gm_grey_24dp.svg)

[Version: v0.8.0](?tab=versions)

Opens a new window with list of versions in this module.

Latest

Latest

![Warning](/static/shared/icon/alert_gm_grey_24dp.svg)

This package is not in the latest version of its module.

[Go to latest](/gioui.org/layout)

Published: Jan 14, 2025 License: [MIT, Unlicense](/gioui.org/layout?tab=licenses)

Opens a new window with license information.

[Imports: 12](/gioui.org/layout?tab=imports)

Opens a new window with list of imports.

[Imported by: 1,029](/gioui.org/layout?tab=importedby)

Opens a new window with list of known importers.

Main Versions Licenses Imports Imported By

## Details

- ![checked](/static/shared/icon/check_circle_gm_grey_24dp.svg) Valid [go.mod](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/go.mod) file ![](/static/shared/icon/help_gm_grey_24dp.svg)
  
  The Go module system was introduced in Go 1.11 and is the official dependency management solution for Go.
- ![checked](/static/shared/icon/check_circle_gm_grey_24dp.svg) Redistributable license ![](/static/shared/icon/help_gm_grey_24dp.svg)
  
  Redistributable licenses place minimal restrictions on how software can be used, modified, and redistributed.
- ![checked](/static/shared/icon/check_circle_gm_grey_24dp.svg) Tagged version ![](/static/shared/icon/help_gm_grey_24dp.svg)
  
  Modules with tagged versions give importers more predictable builds.
- ![unchecked](/static/shared/icon/cancel_gm_grey_24dp.svg) Stable version ![](/static/shared/icon/help_gm_grey_24dp.svg)
  
  When a project reaches major version v1 it is considered stable.
- [Learn more about best practices](/about#best-practices)

## Repository

[git.sr.ht/~eliasnaur/gio](https://git.sr.ht/~eliasnaur/gio "https://git.sr.ht/~eliasnaur/gio")

## Links

- [![Open Source Insights Logo](/static/shared/icon/depsdev-logo.svg) Open Source Insights](https://deps.dev/go/gioui.org/v0.8.0 "View this module on Open Source Insights")

Jump to ...

- [Documentation](#section-documentation)
  
  - [Overview](#pkg-overview)
  - [Index](#pkg-index)
    
    - [Examples](#pkg-examples)
  - [Constants](#pkg-constants)
  - [Variables](#pkg-variables)
  - [Functions](#pkg-functions)
    
    - [FPt(p)](#FPt "FPt(p)")
  - [Types](#pkg-types)
    
    - [type Alignment](#Alignment "type Alignment")
      
      - [(a) String()](#Alignment.String "(a) String()")
    - [type Axis](#Axis "type Axis")
      
      - [(a) Convert(pt)](#Axis.Convert "(a) Convert(pt)")
      - [(a) FConvert(pt)](#Axis.FConvert "(a) FConvert(pt)")
      - [(a) String()](#Axis.String "(a) String()")
    - [type Background](#Background "type Background")
      
      - [Layout(gtx, background, widget)](#Background.Layout "Layout(gtx, background, widget)")
    - [type Constraints](#Constraints "type Constraints")
      
      - [Exact(size)](#Exact "Exact(size)")
      - [(c) AddMin(delta)](#Constraints.AddMin "(c) AddMin(delta)")
      - [(c) Constrain(size)](#Constraints.Constrain "(c) Constrain(size)")
      - [(c) SubMax(delta)](#Constraints.SubMax "(c) SubMax(delta)")
    - [type Context](#Context "type Context")
      
      - [(c) Disabled()](#Context.Disabled "(c) Disabled()")
      - [(c) Dp(v)](#Context.Dp "(c) Dp(v)")
      - [(c) Enabled()](#Context.Enabled "(c) Enabled()")
      - [(c) Event(filters)](#Context.Event "(c) Event(filters)")
      - [(c) Sp(v)](#Context.Sp "(c) Sp(v)")
    - [type Dimensions](#Dimensions "type Dimensions")
    - [type Direction](#Direction "type Direction")
      
      - [(d) Layout(gtx, w)](#Direction.Layout "(d) Layout(gtx, w)")
      - [(d) Position(widget, bounds)](#Direction.Position "(d) Position(widget, bounds)")
      - [(d) String()](#Direction.String "(d) String()")
    - [type Flex](#Flex "type Flex")
      
      - [(f) Layout(gtx, children)](#Flex.Layout "(f) Layout(gtx, children)")
    - [type FlexChild](#FlexChild "type FlexChild")
      
      - [Flexed(weight, widget)](#Flexed "Flexed(weight, widget)")
      - [Rigid(widget)](#Rigid "Rigid(widget)")
    - [type Inset](#Inset "type Inset")
      
      - [UniformInset(v)](#UniformInset "UniformInset(v)")
      - [(in) Layout(gtx, w)](#Inset.Layout "(in) Layout(gtx, w)")
    - [type List](#List "type List")
      
      - [(l) Dragging()](#List.Dragging "(l) Dragging()")
      - [(l) Layout(gtx, len, w)](#List.Layout "(l) Layout(gtx, len, w)")
      - [(l) ScrollBy(num)](#List.ScrollBy "(l) ScrollBy(num)")
      - [(l) ScrollTo(n)](#List.ScrollTo "(l) ScrollTo(n)")
    - [type ListElement](#ListElement "type ListElement")
    - [type Position](#Position "type Position")
    - [type Spacer](#Spacer "type Spacer")
      
      - [(s) Layout(gtx)](#Spacer.Layout "(s) Layout(gtx)")
    - [type Spacing](#Spacing "type Spacing")
      
      - [(s) String()](#Spacing.String "(s) String()")
    - [type Stack](#Stack "type Stack")
      
      - [(s) Layout(gtx, children)](#Stack.Layout "(s) Layout(gtx, children)")
    - [type StackChild](#StackChild "type StackChild")
      
      - [Expanded(w)](#Expanded "Expanded(w)")
      - [Stacked(w)](#Stacked "Stacked(w)")
    - [type Widget](#Widget "type Widget")
  - [Notes](#pkg-notes)
    
    - [Bugs](#pkg-note-BUG)
- [Source Files](#section-sourcefiles)

Documentation

## ![](/static/shared/icon/code_gm_grey_24dp.svg) Documentation [Â¶](#section-documentation "Go to Documentation")

### Overview [Â¶](#pkg-overview "Go to Overview")

- [Constraints and dimensions](#hdr-Constraints_and_dimensions)

Package layout implements layouts common to GUI programs.

#### Constraints and dimensions [Â¶](#hdr-Constraints_and_dimensions "Go to Constraints and dimensions")

Constraints and dimensions form the interface between layouts and interface child elements. This package operates on Widgets, functions that compute Dimensions from a a set of constraints for acceptable widths and heights. Both the constraints and dimensions are maintained in an implicit Context to keep the Widget declaration short.

For example, to add space above a widget:

```
var gtx layout.Context

// Configure a top inset.
inset := layout.Inset{Top: 8, ...}
// Use the inset to lay out a widget.
inset.Layout(gtx, func() {
	// Lay out widget and determine its size given the constraints
	// in gtx.Constraints.
	...
	return layout.Dimensions{...}
})
```

Note that the example does not generate any garbage even though the Inset is transient. Layouts that don't accept user input are designed to not escape to the heap during their use.

Layout operations are recursive: a child in a layout operation can itself be another layout. That way, complex user interfaces can be created from a few generic layouts.

This example both aligns and insets a child:

```
inset := layout.Inset{...}
inset.Layout(gtx, func(gtx layout.Context) layout.Dimensions {
	align := layout.Alignment(...)
	return align.Layout(gtx, func(gtx layout.Context) layout.Dimensions {
		return widget.Layout(gtx, ...)
	})
})
```

More complex layouts such as Stack and Flex lay out multiple children, and stateful layouts such as List accept user input.

### Index [Â¶](#pkg-index "Go to Index")

- [func FPt(p image.Point) f32.Point](#FPt)
- [type Alignment](#Alignment)
- - [func (a Alignment) String() string](#Alignment.String)
- [type Axis](#Axis)
- - [func (a Axis) Convert(pt image.Point) image.Point](#Axis.Convert)
  - [func (a Axis) FConvert(pt f32.Point) f32.Point](#Axis.FConvert)
  - [func (a Axis) String() string](#Axis.String)
- [type Background](#Background)
- - [func (Background) Layout(gtx Context, background, widget Widget) Dimensions](#Background.Layout)
- [type Constraints](#Constraints)
- - [func Exact(size image.Point) Constraints](#Exact)
- - [func (c Constraints) AddMin(delta image.Point) Constraints](#Constraints.AddMin)
  - [func (c Constraints) Constrain(size image.Point) image.Point](#Constraints.Constrain)
  - [func (c Constraints) SubMax(delta image.Point) Constraints](#Constraints.SubMax)
- [type Context](#Context)
- - [func (c Context) Disabled() Context](#Context.Disabled)
  - [func (c Context) Dp(v unit.Dp) int](#Context.Dp)
  - [func (c Context) Enabled() bool](#Context.Enabled)
  - [func (c Context) Event(filters ...event.Filter) (event.Event, bool)](#Context.Event)
  - [func (c Context) Sp(v unit.Sp) int](#Context.Sp)
- [type Dimensions](#Dimensions)
- [type Direction](#Direction)
- - [func (d Direction) Layout(gtx Context, w Widget) Dimensions](#Direction.Layout)
  - [func (d Direction) Position(widget, bounds image.Point) image.Point](#Direction.Position)
  - [func (d Direction) String() string](#Direction.String)
- [type Flex](#Flex)
- - [func (f Flex) Layout(gtx Context, children ...FlexChild) Dimensions](#Flex.Layout)
- [type FlexChild](#FlexChild)
- - [func Flexed(weight float32, widget Widget) FlexChild](#Flexed)
  - [func Rigid(widget Widget) FlexChild](#Rigid)
- [type Inset](#Inset)
- - [func UniformInset(v unit.Dp) Inset](#UniformInset)
- - [func (in Inset) Layout(gtx Context, w Widget) Dimensions](#Inset.Layout)
- [type List](#List)
- - [func (l \*List) Dragging() bool](#List.Dragging)
  - [func (l \*List) Layout(gtx Context, len int, w ListElement) Dimensions](#List.Layout)
  - [func (l \*List) ScrollBy(num float32)](#List.ScrollBy)
  - [func (l \*List) ScrollTo(n int)](#List.ScrollTo)
- [type ListElement](#ListElement)
- [type Position](#Position)
- [type Spacer](#Spacer)
- - [func (s Spacer) Layout(gtx Context) Dimensions](#Spacer.Layout)
- [type Spacing](#Spacing)
- - [func (s Spacing) String() string](#Spacing.String)
- [type Stack](#Stack)
- - [func (s Stack) Layout(gtx Context, children ...StackChild) Dimensions](#Stack.Layout)
- [type StackChild](#StackChild)
- - [func Expanded(w Widget) StackChild](#Expanded)
  - [func Stacked(w Widget) StackChild](#Stacked)
- [type Widget](#Widget)
- [Bugs](#pkg-note-BUG)

#### Examples [Â¶](#pkg-examples "Go to Examples")

- [Background](#example-Background)
- [Direction](#example-Direction)
- [Flex](#example-Flex)
- [Inset](#example-Inset)
- [List](#example-List)
- [Stack](#example-Stack)

### Constants [Â¶](#pkg-constants "Go to Constants")

This section is empty.

### Variables [Â¶](#pkg-variables "Go to Variables")

This section is empty.

### Functions [Â¶](#pkg-functions "Go to Functions")

#### func [FPt](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L82) [Â¶](#FPt "Go to FPt")

```
func FPt(p image.Point) f32.Point
```

FPt converts an point to a f32.Point.

### Types [Â¶](#pkg-types "Go to Types")

#### type [Alignment](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L39) [Â¶](#Alignment "Go to Alignment")

```
type Alignment uint8
```

Alignment is the mutual alignment of a list of widgets.

```
const (
	Start Alignment = iota
	End
	Middle
	Baseline
)
```

#### func (Alignment) [String](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L251) [Â¶](#Alignment.String "Go to Alignment.String")

```
func (a Alignment) String() string
```

#### type [Axis](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L36) [Â¶](#Axis "Go to Axis")

```
type Axis uint8
```

Axis is the Horizontal or Vertical direction.

```
const (
	Horizontal Axis = iota
	Vertical
)
```

#### func (Axis) [Convert](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L269) [Â¶](#Axis.Convert "Go to Axis.Convert")

```
func (a Axis) Convert(pt image.Point) image.Point
```

Convert a point in (x, y) coordinates to (main, cross) coordinates, or vice versa. Specifically, Convert((x, y)) returns (x, y) unchanged for the horizontal axis, or (y, x) for the vertical axis.

#### func (Axis) [FConvert](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L279) [Â¶](#Axis.FConvert "Go to Axis.FConvert")

```
func (a Axis) FConvert(pt f32.Point) f32.Point
```

FConvert a point in (x, y) coordinates to (main, cross) coordinates, or vice versa. Specifically, FConvert((x, y)) returns (x, y) unchanged for the horizontal axis, or (y, x) for the vertical axis.

#### func (Axis) [String](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L310) [Â¶](#Axis.String "Go to Axis.String")

```
func (a Axis) String() string
```

#### type [Background](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/stack.go#L124) [Â¶](#Background "Go to Background") added in v0.4.1

```
type Background struct{}
```

Background lays out single child widget on top of a background, centering, if necessary.

Example [Â¶](#example-Background "Go to Example")

```
package main

import (
	"fmt"
	"image"

	"gioui.org/layout"
	"gioui.org/op"
)

func main() {
	gtx := layout.Context{
		Ops: new(op.Ops),
		Constraints: layout.Constraints{
			Max: image.Point{X: 100, Y: 100},
		},
	}

	layout.Background{}.Layout(gtx,
		// Force widget to the same size as the second.
		func(gtx layout.Context) layout.Dimensions {
			fmt.Printf("Expand: %v\n", gtx.Constraints)
			return layoutWidget(gtx, 10, 10)
		},
		// Rigid 50x50 widget.
		func(gtx layout.Context) layout.Dimensions {
			return layoutWidget(gtx, 50, 50)
		},
	)

}

func layoutWidget(ctx layout.Context, width, height int) layout.Dimensions {
	return layout.Dimensions{
		Size: image.Point{
			X: width,
			Y: height,
		},
	}
}
```

```
Output:

Expand: {(50,50) (100,100)}
```

Share Format Run

#### func (Background) [Layout](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/stack.go#L127) [Â¶](#Background.Layout "Go to Background.Layout") added in v0.4.1

```
func (Background) Layout(gtx Context, background, widget Widget) Dimensions
```

Layout a widget and then add a background to it.

#### type [Constraints](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L21) [Â¶](#Constraints "Go to Constraints")

```
type Constraints struct {
	Min, Max image.Point
}
```

Constraints represent the minimum and maximum size of a widget.

A widget does not have to treat its constraints as "hard". For example, if it's passed a constraint with a minimum size that's smaller than its actual minimum size, it should return its minimum size dimensions instead. Parent widgets should deal appropriately with child widgets that return dimensions that do not fit their constraints (for example, by clipping).

#### func [Exact](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L75) [Â¶](#Exact "Go to Exact")

```
func Exact(size image.Point) Constraints
```

Exact returns the Constraints with the minimum and maximum size set to size.

#### func (Constraints) [AddMin](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L108) [Â¶](#Constraints.AddMin "Go to Constraints.AddMin")

```
func (c Constraints) AddMin(delta image.Point) Constraints
```

AddMin returns a copy of Constraints with the Min constraint enlarged by up to delta while still fitting within the Max constraint. The Max is unchanged, and the Min constraint will not go negative.

#### func (Constraints) [Constrain](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L89) [Â¶](#Constraints.Constrain "Go to Constraints.Constrain")

```
func (c Constraints) Constrain(size image.Point) image.Point
```

Constrain a size so each dimension is in the range \[min;max].

#### func (Constraints) [SubMax](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L123) [Â¶](#Constraints.SubMax "Go to Constraints.SubMax")

```
func (c Constraints) SubMax(delta image.Point) Constraints
```

SubMax returns a copy of Constraints with the Max constraint shrunk by up to delta while not going negative. The values of delta are expected to be positive. The Min constraint is adjusted to fit within the new Max constraint.

#### type [Context](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/context.go#L18) [Â¶](#Context "Go to Context")

```
type Context struct {
	// Constraints track the constraints for the active widget or
	// layout.
	Constraints Constraints

	Metric unit.Metric
	// Now is the animation time.
	Now time.Time

	// Locale provides information on the system's language preferences.
	// BUG(whereswaldon): this field is not currently populated automatically.
	// Interested users must look up and populate these values manually.
	Locale system.Locale

	input.Source
	*op.Ops
	// contains filtered or unexported fields
}
```

Context carries the state needed by almost all layouts and widgets. A zero value Context never returns events, map units to pixels with a scale of 1.0, and returns the zero time from Now.

#### func (Context) [Disabled](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/context.go#L61) [Â¶](#Context.Disabled "Go to Context.Disabled")

```
func (c Context) Disabled() Context
```

Disabled returns a copy of this context that don't deliver any events.

#### func (Context) [Dp](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/context.go#L38) [Â¶](#Context.Dp "Go to Context.Dp")

```
func (c Context) Dp(v unit.Dp) int
```

Dp converts v to pixels.

#### func (Context) [Enabled](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/context.go#L56) [Â¶](#Context.Enabled "Go to Context.Enabled") added in v0.8.0

```
func (c Context) Enabled() bool
```

Enabled reports whether this context is enabled. Disabled contexts don't report events.

#### func (Context) [Event](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/context.go#L47) [Â¶](#Context.Event "Go to Context.Event") added in v0.8.0

```
func (c Context) Event(filters ...event.Filter) (event.Event, bool)
```

#### func (Context) [Sp](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/context.go#L43) [Â¶](#Context.Sp "Go to Context.Sp")

```
func (c Context) Sp(v unit.Sp) int
```

Sp converts v to pixels.

#### type [Dimensions](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L30) [Â¶](#Dimensions "Go to Dimensions")

```
type Dimensions struct {
	Size     image.Point
	Baseline int
}
```

Dimensions are the resolved size and baseline for a widget.

Baseline is the distance from the bottom of a widget to the baseline of any text it contains (or 0). The purpose is to be able to align text that span multiple widgets.

#### type [Direction](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L43) [Â¶](#Direction "Go to Direction")

```
type Direction uint8
```

Direction is the alignment of widgets relative to a containing space.

Example [Â¶](#example-Direction "Go to Example")

```
package main

import (
	"fmt"
	"image"

	"gioui.org/layout"
	"gioui.org/op"
)

func main() {
	gtx := layout.Context{
		Ops: new(op.Ops),
		// Rigid constraints with both minimum and maximum set.
		Constraints: layout.Exact(image.Point{X: 100, Y: 100}),
	}

	dims := layout.Center.Layout(gtx, func(gtx layout.Context) layout.Dimensions {
		// Lay out a 50x50 sized widget.
		dims := layoutWidget(gtx, 50, 50)
		fmt.Println(dims.Size)
		return dims
	})

	fmt.Println(dims.Size)

}

func layoutWidget(ctx layout.Context, width, height int) layout.Dimensions {
	return layout.Dimensions{
		Size: image.Point{
			X: width,
			Y: height,
		},
	}
}
```

```
Output:

(50,50)
(100,100)
```

Share Format Run

```
const (
	NW Direction = iota
	N
	NE
	E
	SE
	S
	SW
	W
	Center
)
```

#### func (Direction) [Layout](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L185) [Â¶](#Direction.Layout "Go to Direction.Layout")

```
func (d Direction) Layout(gtx Context, w Widget) Dimensions
```

Layout a widget according to the direction. The widget is called with the context constraints minimum cleared.

#### func (Direction) [Position](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L217) [Â¶](#Direction.Position "Go to Direction.Position")

```
func (d Direction) Position(widget, bounds image.Point) image.Point
```

Position calculates widget position according to the direction.

#### func (Direction) [String](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L321) [Â¶](#Direction.String "Go to Direction.String")

```
func (d Direction) String() string
```

#### type [Flex](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/flex.go#L13) [Â¶](#Flex "Go to Flex")

```
type Flex struct {
	// Axis is the main axis, either Horizontal or Vertical.
	Axis Axis
	// Spacing controls the distribution of space left after
	// layout.
	Spacing Spacing
	// Alignment is the alignment in the cross axis.
	Alignment Alignment
	// WeightSum is the sum of weights used for the weighted
	// size of Flexed children. If WeightSum is zero, the sum
	// of all Flexed weights is used.
	WeightSum float32
}
```

Flex lays out child elements along an axis, according to alignment and weights.

Example [Â¶](#example-Flex "Go to Example")

```
package main

import (
	"fmt"
	"image"

	"gioui.org/layout"
	"gioui.org/op"
)

func main() {
	gtx := layout.Context{
		Ops: new(op.Ops),
		// Rigid constraints with both minimum and maximum set.
		Constraints: layout.Exact(image.Point{X: 100, Y: 100}),
	}

	layout.Flex{WeightSum: 2}.Layout(gtx,
		// Rigid 10x10 widget.
		layout.Rigid(func(gtx layout.Context) layout.Dimensions {
			fmt.Printf("Rigid: %v\n", gtx.Constraints)
			return layoutWidget(gtx, 10, 10)
		}),
		// Child with 50% space allowance.
		layout.Flexed(1, func(gtx layout.Context) layout.Dimensions {
			fmt.Printf("50%%: %v\n", gtx.Constraints)
			return layoutWidget(gtx, 10, 10)
		}),
	)

}

func layoutWidget(ctx layout.Context, width, height int) layout.Dimensions {
	return layout.Dimensions{
		Size: image.Point{
			X: width,
			Y: height,
		},
	}
}
```

```
Output:

Rigid: {(0,100) (100,100)}
50%: {(45,100) (45,100)}
```

Share Format Run

#### func (Flex) [Layout](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/flex.go#L83) [Â¶](#Flex.Layout "Go to Flex.Layout")

```
func (f Flex) Layout(gtx Context, children ...FlexChild) Dimensions
```

Layout a list of children. The position of the children are determined by the specified order, but Rigid children are laid out before Flexed children.

#### type [FlexChild](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/flex.go#L28) [Â¶](#FlexChild "Go to FlexChild")

```
type FlexChild struct {
	// contains filtered or unexported fields
}
```

FlexChild is the descriptor for a Flex child.

#### func [Flexed](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/flex.go#L72) [Â¶](#Flexed "Go to Flexed")

```
func Flexed(weight float32, widget Widget) FlexChild
```

Flexed returns a Flex child forced to take up weight fraction of the space left over from Rigid children. The fraction is weight divided by either the weight sum of all Flexed children or the Flex WeightSum if non zero.

#### func [Rigid](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/flex.go#L62) [Â¶](#Rigid "Go to Rigid")

```
func Rigid(widget Widget) FlexChild
```

Rigid returns a Flex child with a maximal constraint of the remaining space.

#### type [Inset](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L138) [Â¶](#Inset "Go to Inset")

```
type Inset struct {
	Top, Bottom, Left, Right unit.Dp
}
```

Inset adds space around a widget by decreasing its maximum constraints. The minimum constraints will be adjusted to ensure they do not exceed the maximum.

Example [Â¶](#example-Inset "Go to Example")

```
package main

import (
	"fmt"
	"image"

	"gioui.org/layout"
	"gioui.org/op"
)

func main() {
	gtx := layout.Context{
		Ops: new(op.Ops),
		// Loose constraints with no minimal size.
		Constraints: layout.Constraints{
			Max: image.Point{X: 100, Y: 100},
		},
	}

	// Inset all edges by 10.
	inset := layout.UniformInset(10)
	dims := inset.Layout(gtx, func(gtx layout.Context) layout.Dimensions {
		// Lay out a 50x50 sized widget.
		dims := layoutWidget(gtx, 50, 50)
		fmt.Println(dims.Size)
		return dims
	})

	fmt.Println(dims.Size)

}

func layoutWidget(ctx layout.Context, width, height int) layout.Dimensions {
	return layout.Dimensions{
		Size: image.Point{
			X: width,
			Y: height,
		},
	}
}
```

```
Output:

(50,50)
(70,70)
```

Share Format Run

#### func [UniformInset](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L179) [Â¶](#UniformInset "Go to UniformInset")

```
func UniformInset(v unit.Dp) Inset
```

UniformInset returns an Inset with a single inset applied to all edges.

#### func (Inset) [Layout](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L143) [Â¶](#Inset.Layout "Go to Inset.Layout")

```
func (in Inset) Layout(gtx Context, w Widget) Dimensions
```

Layout a widget.

#### type [List](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/list.go#L23) [Â¶](#List "Go to List")

```
type List struct {
	Axis Axis
	// ScrollToEnd instructs the list to stay scrolled to the far end position
	// once reached. A List with ScrollToEnd == true and Position.BeforeEnd ==
	// false draws its content with the last item at the bottom of the list
	// area.
	ScrollToEnd bool
	// Alignment is the cross axis alignment of list elements.
	Alignment Alignment

	// Position is updated during Layout. To save the list scroll position,
	// just save Position after Layout finishes. To scroll the list
	// programmatically, update Position (e.g. restore it from a saved value)
	// before calling Layout.
	Position Position
	// contains filtered or unexported fields
}
```

List displays a subsection of a potentially infinitely large underlying list. List accepts user input to scroll the subsection.

Example [Â¶](#example-List "Go to Example")

```
package main

import (
	"fmt"
	"image"

	"gioui.org/layout"
	"gioui.org/op"
)

func main() {
	gtx := layout.Context{
		Ops: new(op.Ops),
		// Rigid constraints with both minimum and maximum set.
		Constraints: layout.Exact(image.Point{X: 100, Y: 100}),
	}

	// The list is 1e6 elements, but only 5 fit the constraints.
	const listLen = 1e6

	var list layout.List
	list.Layout(gtx, listLen, func(gtx layout.Context, i int) layout.Dimensions {
		return layoutWidget(gtx, 20, 20)
	})

	fmt.Println(list.Position.Count)

}

func layoutWidget(ctx layout.Context, width, height int) layout.Dimensions {
	return layout.Dimensions{
		Size: image.Point{
			X: width,
			Y: height,
		},
	}
}
```

```
Output:

5
```

Share Format Run

#### func (\*List) [Dragging](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/list.go#L143) [Â¶](#List.Dragging "Go to List.Dragging")

```
func (l *List) Dragging() bool
```

Dragging reports whether the List is being dragged.

#### func (\*List) [Layout](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/list.go#L113) [Â¶](#List.Layout "Go to List.Layout")

```
func (l *List) Layout(gtx Context, len int, w ListElement) Dimensions
```

Layout a List of len items, where each item is implicitly defined by the callback w. Layout can handle very large lists because it only calls w to fill its viewport and the distance scrolled, if any.

#### func (\*List) [ScrollBy](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/list.go#L366) [Â¶](#List.ScrollBy "Go to List.ScrollBy")

```
func (l *List) ScrollBy(num float32)
```

ScrollBy scrolls the list by a relative amount of items.

Fractional scrolling may be inaccurate for items of differing dimensions. This includes scrolling by integer amounts if the current l.Position.Offset is non-zero.

#### func (\*List) [ScrollTo](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/list.go#L387) [Â¶](#List.ScrollTo "Go to List.ScrollTo")

```
func (l *List) ScrollTo(n int)
```

ScrollTo scrolls to the specified item.

#### type [ListElement](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/list.go#L53) [Â¶](#ListElement "Go to ListElement")

```
type ListElement func(gtx Context, index int) Dimensions
```

ListElement is a function that computes the dimensions of a list element.

#### type [Position](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/list.go#L59) [Â¶](#Position "Go to Position")

```
type Position struct {
	// BeforeEnd tracks whether the List position is before the very end. We
	// use "before end" instead of "at end" so that the zero value of a
	// Position struct is useful.
	//
	// When laying out a list, if ScrollToEnd is true and BeforeEnd is false,
	// then First and Offset are ignored, and the list is drawn with the last
	// item at the bottom. If ScrollToEnd is false then BeforeEnd is ignored.
	BeforeEnd bool
	// First is the index of the first visible child.
	First int
	// Offset is the distance in pixels from the leading edge to the child at index
	// First.
	Offset int
	// OffsetLast is the signed distance in pixels from the trailing edge to the
	// bottom edge of the child at index First+Count.
	OffsetLast int
	// Count is the number of visible children.
	Count int
	// Length is the estimated total size of all children, measured in pixels.
	Length int
}
```

Position is a List scroll offset represented as an offset from the top edge of a child element.

#### type [Spacer](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L238) [Â¶](#Spacer "Go to Spacer")

```
type Spacer struct {
	Width, Height unit.Dp
}
```

Spacer adds space between widgets.

#### func (Spacer) [Layout](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L242) [Â¶](#Spacer.Layout "Go to Spacer.Layout")

```
func (s Spacer) Layout(gtx Context) Dimensions
```

#### type [Spacing](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/flex.go#L40) [Â¶](#Spacing "Go to Spacing")

```
type Spacing uint8
```

Spacing determine the spacing mode for a Flex.

```
const (
	// SpaceEnd leaves space at the end.
	SpaceEnd Spacing = iota
	// SpaceStart leaves space at the start.
	SpaceStart
	// SpaceSides shares space between the start and end.
	SpaceSides
	// SpaceAround distributes space evenly between children,
	// with half as much space at the start and end.
	SpaceAround
	// SpaceBetween distributes space evenly between children,
	// leaving no space at the start and end.
	SpaceBetween
	// SpaceEvenly distributes space evenly between children and
	// at the start and end.
	SpaceEvenly
)
```

#### func (Spacing) [String](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/flex.go#L223) [Â¶](#Spacing.String "Go to Spacing.String")

```
func (s Spacing) String() string
```

#### type [Stack](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/stack.go#L13) [Â¶](#Stack "Go to Stack")

```
type Stack struct {
	// Alignment is the direction to align children
	// smaller than the available space.
	Alignment Direction
}
```

Stack lays out child elements on top of each other, according to an alignment direction.

Example [Â¶](#example-Stack "Go to Example")

```
package main

import (
	"fmt"
	"image"

	"gioui.org/layout"
	"gioui.org/op"
)

func main() {
	gtx := layout.Context{
		Ops: new(op.Ops),
		Constraints: layout.Constraints{
			Max: image.Point{X: 100, Y: 100},
		},
	}

	layout.Stack{}.Layout(gtx,
		// Force widget to the same size as the second.
		layout.Expanded(func(gtx layout.Context) layout.Dimensions {
			fmt.Printf("Expand: %v\n", gtx.Constraints)
			return layoutWidget(gtx, 10, 10)
		}),
		// Rigid 50x50 widget.
		layout.Stacked(func(gtx layout.Context) layout.Dimensions {
			return layoutWidget(gtx, 50, 50)
		}),
	)

}

func layoutWidget(ctx layout.Context, width, height int) layout.Dimensions {
	return layout.Dimensions{
		Size: image.Point{
			X: width,
			Y: height,
		},
	}
}
```

```
Output:

Expand: {(50,50) (100,100)}
```

Share Format Run

#### func (Stack) [Layout](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/stack.go#L50) [Â¶](#Stack.Layout "Go to Stack.Layout")

```
func (s Stack) Layout(gtx Context, children ...StackChild) Dimensions
```

Layout a stack of children. The position of the children are determined by the specified order, but Stacked children are laid out before Expanded children.

#### type [StackChild](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/stack.go#L20) [Â¶](#StackChild "Go to StackChild")

```
type StackChild struct {
	// contains filtered or unexported fields
}
```

StackChild represents a child for a Stack layout.

#### func [Expanded](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/stack.go#L40) [Â¶](#Expanded "Go to Expanded")

```
func Expanded(w Widget) StackChild
```

Expanded returns a Stack child with the minimum constraints set to the largest Stacked child. The maximum constraints are set to the same as passed to Stack.Layout.

#### func [Stacked](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/stack.go#L31) [Â¶](#Stacked "Go to Stacked")

```
func Stacked(w Widget) StackChild
```

Stacked returns a Stack child that is laid out with no minimum constraints and the maximum constraints passed to Stack.Layout.

#### type [Widget](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go#L47) [Â¶](#Widget "Go to Widget")

```
type Widget func(gtx Context) Dimensions
```

Widget is a function scope for drawing, processing events and computing dimensions for a user interface element.

### Notes [Â¶](#pkg-notes "Go to Notes")

### Bugs [Â¶](#pkg-note-BUG "Go to Bugs")

- this field is not currently populated automatically. Interested users must look up and populate these values manually.

## ![](/static/shared/icon/insert_drive_file_gm_grey_24dp.svg) Source Files [Â¶](#section-sourcefiles "Go to Source Files")

[View all Source files](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout)

- [context.go](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/context.go "context.go")
- [doc.go](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/doc.go "doc.go")
- [flex.go](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/flex.go "flex.go")
- [layout.go](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/layout.go "layout.go")
- [list.go](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/list.go "list.go")
- [stack.go](https://git.sr.ht/~eliasnaur/gio/tree/v0.8.0/layout/stack.go "stack.go")

Click to show internal directories.

Click to hide internal directories.

[Why Go](https://go.dev/solutions) [Use Cases](https://go.dev/solutions#use-cases) [Case Studies](https://go.dev/solutions#case-studies)

[Get Started](https://learn.go.dev/) [Playground](https://play.golang.org) [Tour](https://tour.golang.org) [Stack Overflow](https://stackoverflow.com/questions/tagged/go?tab=Newest) [Help](https://go.dev/help)

[Packages](https://pkg.go.dev) [Standard Library](/std) [Sub-repositories](/golang.org/x) [About Go Packages](https://pkg.go.dev/about)

[About](https://go.dev/project) [Download](https://go.dev/dl/) [Blog](https://go.dev/blog) [Issue Tracker](https://github.com/golang/go/issues) [Release Notes](https://go.dev/doc/devel/release.html) [Brand Guidelines](https://blog.golang.org/go-brand) [Code of Conduct](https://go.dev/conduct)

[Connect](https://www.twitter.com/golang) [Twitter](https://www.twitter.com/golang) [GitHub](https://github.com/golang) [Slack](https://invite.slack.golangbridge.org/) [r/golang](https://reddit.com/r/golang) [Meetup](https://www.meetup.com/pro/go) [Golang Weekly](https://golangweekly.com/)

![Gopher in flight goggles](/static/shared/gopher/pilot-bust-1431x901.svg)

- [Copyright](https://go.dev/copyright)
- [Terms of Service](https://go.dev/tos)
- [Privacy Policy](http://www.google.com/intl/en/policies/privacy/)
- [Report an Issue](https://go.dev/s/pkgsite-feedback)
- ![System theme](/static/shared/icon/brightness_6_gm_grey_24dp.svg) ![Dark theme](/static/shared/icon/brightness_2_gm_grey_24dp.svg) ![Light theme](/static/shared/icon/light_mode_gm_grey_24dp.svg)
  
  Theme Toggle
- ![](/static/shared/icon/keyboard_grey_24dp.svg)
  
  Shortcuts Modal

[![Google logo](/static/shared/logo/google-white.svg)](https://google.com)

## Jump to

![](/static/shared/icon/close_gm_grey_24dp.svg)

Close

## Keyboard shortcuts

![](/static/shared/icon/close_gm_grey_24dp.svg)

| **?**          | : This menu     |
|----------------|-----------------|
| **/**          | : Search site   |
| **f** or **F** | : Jump to       |
| **y** or **Y** | : Canonical URL |

Close

go.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic. [Learn more.](https://policies.google.com/technologies/cookies)

Okay